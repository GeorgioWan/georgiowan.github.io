<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>新樂街口的三角窗</title>
  <subtitle>我，在這裡，享受等你的時光。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://georgiowan.github.io/"/>
  <updated>2016-05-25T02:42:33.162Z</updated>
  <id>http://georgiowan.github.io/</id>
  
  <author>
    <name>OAwan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>[資訊] 超好用換幣神器！教你怎麼到韓國換錢最划算</title>
    <link href="http://georgiowan.github.io/2016/travel-to-korea-money-exchange/"/>
    <id>http://georgiowan.github.io/2016/travel-to-korea-money-exchange/</id>
    <published>2016-05-24T17:07:00.000Z</published>
    <updated>2016-05-25T02:42:33.162Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/img/travel/money.jpg&quot; alt=&quot;Money Exchange&quot; title=&quot;Pic by Bill Pirraglia&quot;&gt;&lt;/p&gt;
&lt;p&gt;到韓國自由行，&lt;span style=&quot;font-size: 20px; color: #009688&quot;&gt;怎麼換韓幣最划算呢？&lt;/span&gt;&lt;br&gt;讓我們一起用&lt;strong&gt;換幣 (Money Exchange)&lt;/strong&gt; 來小賺一點交通費吧！&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h1 id=&quot;最划算的換幣方式是？&quot;&gt;&lt;a href=&quot;#最划算的換幣方式是？&quot; class=&quot;headerlink&quot; title=&quot;最划算的換幣方式是？&quot;&gt;&lt;/a&gt;最划算的換幣方式是？&lt;/h1&gt;&lt;p&gt;相信在前往韓國自由行前，最重要的事情除了訂機票、住宿和安排行程活動外，就是&lt;span style=&quot;color: #009688&quot;&gt;研究如何換幣&lt;/span&gt;了！&lt;br&gt;這邊不囉嗦，馬上告訴你一些划算的小心得：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;先在&lt;span style=&quot;font-size: 18px; color: #EC6161&quot;&gt;台灣換&lt;strong&gt;美金&lt;/strong&gt;&lt;/span&gt;，再拿&lt;span style=&quot;font-size: 18px; color: #EC6161&quot;&gt;&lt;strong&gt;美金&lt;/strong&gt;到韓國換&lt;strong&gt;韓元(₩)&lt;/strong&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;直接帶著&lt;span style=&quot;font-size: 18px; color: #EC6161&quot;&gt;&lt;strong&gt;台幣&lt;/strong&gt;到韓國換&lt;strong&gt;韓元&lt;/strong&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;謹記：千萬別在台灣直接換韓元！&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;那究竟哪種方式較好呢？&quot;&gt;&lt;a href=&quot;#那究竟哪種方式較好呢？&quot; class=&quot;headerlink&quot; title=&quot;那究竟哪種方式較好呢？&quot;&gt;&lt;/a&gt;那究竟哪種方式較好呢？&lt;/h1&gt;&lt;p&gt;除了上面提到的兩種換錢方式：&lt;span style=&quot;color: #009688; border: 1px solid #009688; border-radius: 4px; padding: 1px 5px;&quot;&gt;美金換韓元&lt;/span&gt;、&lt;span style=&quot;color: #009688; border: 1px solid #009688; border-radius: 4px; padding: 1px 5px;&quot;&gt;台幣換韓元&lt;/span&gt; 外，&lt;br&gt;其實也有些精打細算的朋友也會去計算 &lt;span style=&quot;color: #009688; border: 1px solid #009688; border-radius: 4px; padding: 1px 5px;&quot;&gt;日幣換韓元&lt;/span&gt; 是否也划算？那究竟在匯率不停變動時，什麼樣的方式換韓元最好呢？&lt;br&gt;雖然很重要，但，&lt;strong&gt;為了換錢而點高經濟學技能&lt;/strong&gt; 對於 &lt;em&gt;&lt;del&gt;宅男&lt;/del&gt;&lt;/em&gt; 門外漢來說實在太不容易了，其實就是懶 XDD&lt;/p&gt;
&lt;p&gt;秉持著攻城獅的原則 &lt;strong&gt;「這麼累的事情只能累一次」&lt;/strong&gt;！&lt;br&gt;於是，超好用的換錢神器就誕生啦！！！&lt;/p&gt;
&lt;h1 id=&quot;換幣神器抵佳啦！&quot;&gt;&lt;a href=&quot;#換幣神器抵佳啦！&quot; class=&quot;headerlink&quot; title=&quot;換幣神器抵佳啦！&quot;&gt;&lt;/a&gt;換幣神器抵佳啦！&lt;/h1&gt;&lt;iframe height=&quot;450&quot; width=&quot;850&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; style=&quot;box-shadow:4px 4px 12px -2px rgba(20%,20%,40%,0.5);&quot; src=&quot;https://docs.google.com/spreadsheets/d/1-_3JwhXhqw0vT6GVgeXtsVh7H__RQIubxRyLDfDZeG4/edit?usp=sharing&quot;&gt;&lt;/iframe&gt;



&lt;h1 id=&quot;怎麼使用？&quot;&gt;&lt;a href=&quot;#怎麼使用？&quot; class=&quot;headerlink&quot; title=&quot;怎麼使用？&quot;&gt;&lt;/a&gt;怎麼使用？&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;於 &lt;span style=&quot;background-color: #B7E1CD; border-radius: 4px; padding: 1px 5px;&quot;&gt;B2&lt;/span&gt; 中填入想換的&lt;strong&gt;台幣金額&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;經過換算後，幫你標記為 &lt;span style=&quot;color: white;background-color: #EC6161; border-radius: 4px; padding: 1px 5px;&quot;&gt;紅色的部分&lt;/span&gt; 就是最划算的方式了！&lt;/li&gt;
&lt;li&gt;快快樂樂地帶摳摳去&lt;strong&gt;賺交通費&lt;/strong&gt;囉！&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;說明&quot;&gt;&lt;a href=&quot;#說明&quot; class=&quot;headerlink&quot; title=&quot;說明&quot;&gt;&lt;/a&gt;說明&lt;/h1&gt;&lt;p&gt;&lt;span style=&quot;background-color: #FFD966; border-radius: 4px; padding: 1px 5px;&quot;&gt;在台灣銀行&lt;/span&gt;：此部分匯率會由&lt;a href=&quot;http://rate.bot.com.tw/Pages/Static/UIP003.zh-TW.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;台灣銀行&lt;/strong&gt;&lt;/a&gt;牌告匯率作即時的更新。&lt;br&gt;&lt;span style=&quot;background-color: #FFD966; border-radius: 4px; padding: 1px 5px;&quot;&gt;在韓國銀行&lt;/span&gt;：此部分匯率會由&lt;a href=&quot;http://fx.keb.co.kr/FER1101C.web?schID=pib&amp;amp;LOCALE_CODE=EN&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;韓國KEB銀行&lt;/strong&gt;&lt;/a&gt;牌告匯率作即時的更新。&lt;br&gt;&lt;span style=&quot;color: white; background-color: black; border-radius: 4px; padding: 1px 5px;&quot;&gt;F4、F7、F8、F9&lt;/span&gt;：比較換得的韓元總額，要兌換的金額越大，差額就越驚人哪！&lt;br&gt;&lt;span style=&quot;border: 1px solid black; border-radius: 4px; padding: 1px 5px;&quot;&gt;G4、G7、G8、G9&lt;/span&gt;：比較 1 元台幣能換得多少韓元。&lt;/p&gt;
&lt;h1 id=&quot;關於換錢所「환전」&quot;&gt;&lt;a href=&quot;#關於換錢所「환전」&quot; class=&quot;headerlink&quot; title=&quot;關於換錢所「환전」&quot;&gt;&lt;/a&gt;關於換錢所「환전」&lt;/h1&gt;&lt;p&gt;到韓國玩一定得了解到 &lt;strong&gt;換錢所&lt;/strong&gt; 換錢這件事，&lt;br&gt;由上面的換錢神器我們可以清楚地知道，&lt;span style=&quot;font-size: 18px; color: #EC6161&quot;&gt;從台灣帶什麼幣去換韓元&lt;/span&gt; 最划算，&lt;br&gt;所以，只要在出發前備好 &lt;strong&gt;待換的幣&lt;/strong&gt;，前往當地換錢所貨比三家，就只是賺多賺少的問題啦~~~&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;通常換錢所都很集中，務必貨比三家一下喲！&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;想多了解換錢所的詳細資訊，可以參考 &lt;a href=&quot;http://rainieis.tw/blog/post/30941557-%5B%E9%9F%93%E5%9C%8B%5D-%E9%A6%96%E7%88%BE-seoul-%7C-%E6%B0%91%E9%96%93%E6%8F%9B%E9%8C%A2%E6%89%80-%E7%BE%8E%E9%87%91%E6%8F%9B%E9%8C%A2%E8%81%B0%E6%98%8E&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;披著虎皮的貓&lt;/strong&gt;&lt;/a&gt; 超用心的整理 &lt;i class=&quot;fa fa-heart&quot; style=&quot;color: #EC6161&quot;&gt;&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;That’s it！&lt;strong&gt;Done&lt;/strong&gt;！&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;如果對文章或換幣神器有任何疑問、建議，都歡迎留言聊聊喔！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/img/travel/money.jpg&quot; alt=&quot;Money Exchange&quot; title=&quot;Pic by Bill Pirraglia&quot;&gt;&lt;/p&gt;
&lt;p&gt;到韓國自由行，&lt;span style=&quot;font-size: 20px; color: #009688&quot;&gt;怎麼換韓幣最划算呢？&lt;/span&gt;&lt;br&gt;讓我們一起用&lt;strong&gt;換幣 (Money Exchange)&lt;/strong&gt; 來小賺一點交通費吧！&lt;/p&gt;
    
    </summary>
    
      <category term="Travel" scheme="http://georgiowan.github.io/categories/Travel/"/>
    
    
      <category term="korea" scheme="http://georgiowan.github.io/tags/korea/"/>
    
      <category term="tool" scheme="http://georgiowan.github.io/tags/tool/"/>
    
      <category term="換幣神器" scheme="http://georgiowan.github.io/tags/%E6%8F%9B%E5%B9%A3%E7%A5%9E%E5%99%A8/"/>
    
      <category term="韓國" scheme="http://georgiowan.github.io/tags/%E9%9F%93%E5%9C%8B/"/>
    
      <category term="旅遊" scheme="http://georgiowan.github.io/tags/%E6%97%85%E9%81%8A/"/>
    
  </entry>
  
  <entry>
    <title>[Rails] 上傳圖片功能 - via CarrierWave</title>
    <link href="http://georgiowan.github.io/2015/rails-upload-pictures-via-carrierwave/"/>
    <id>http://georgiowan.github.io/2015/rails-upload-pictures-via-carrierwave/</id>
    <published>2015-11-03T03:22:00.000Z</published>
    <updated>2016-05-25T05:41:38.552Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/img/program/rails_image_uploader.png&quot; alt=&quot;上傳圖片功能 - via CarrierWave&quot; title=&quot;Pic by Stanko Krtalić Rusendić&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;&lt;strong&gt;目的&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;　　一個網站在許多地方都需要上傳圖片或照片的功能，例如大頭貼(Avatar)或是商品照片等，而在 rails 中我們有現成的 gem可以使用，你可以使用 &lt;a href=&quot;https://github.com/thoughtbot/paperclip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;paperclip&lt;/strong&gt;&lt;/a&gt; 或 &lt;a href=&quot;https://github.com/carrierwaveuploader/carrierwave&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;CarrierWave&lt;/strong&gt;&lt;/a&gt; 來實作這個功能，這邊就筆記一下怎麼使用 CarrierWave。&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;&lt;strong&gt;前言&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;　　從完全沒寫過 web app 直接學習 Ruby on Rails，說實在真有點勉強…但接觸 RoR 後我發現這真的是我喜歡的東西，希望能保持這個初衷和熱情！也期待自己能有更多的作品 ccc&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h1 id=&quot;筆記&quot;&gt;&lt;a href=&quot;#筆記&quot; class=&quot;headerlink&quot; title=&quot;筆記&quot;&gt;&lt;/a&gt;&lt;strong&gt;筆記&lt;/strong&gt;&lt;/h1&gt;&lt;h3 id=&quot;1-Gem&quot;&gt;&lt;a href=&quot;#1-Gem&quot; class=&quot;headerlink&quot; title=&quot;1. Gem&quot;&gt;&lt;/a&gt;1. Gem&lt;/h3&gt;&lt;p&gt;　先添加 gem 到 Gemfile 中&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;Gemfile&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gem &lt;span class=&quot;string&quot;&gt;&#39;carrierwave&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;~&amp;gt; 0.10.0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gem &lt;span class=&quot;string&quot;&gt;&#39;rmagick&#39;&lt;/span&gt;    , &lt;span class=&quot;string&quot;&gt;&#39;~&amp;gt; 2.15&#39;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 使用 rmagick 作縮放圖片功能&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;then,&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;bundle install&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;【提醒】安裝 rmagick 前得先安裝 libmagickwand-dev。&lt;br&gt;　　　　由於我的環境是 Ubuntu 15.04，所以透過 &lt;code&gt;sudo apt-get install libmagickwand-dev&lt;/code&gt; 安裝&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;2-生成-Uploader&quot;&gt;&lt;a href=&quot;#2-生成-Uploader&quot; class=&quot;headerlink&quot; title=&quot;2. 生成 Uploader&quot;&gt;&lt;/a&gt;2. 生成 Uploader&lt;/h3&gt;&lt;p&gt;　bundle install 後，可以在 &lt;code&gt;rails g -h&lt;/code&gt; 看到新增了 uploader，接著&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rails g uploader Iamge &lt;span class=&quot;comment&quot;&gt;# 會生成 app/uploaders/image_uploader.rb&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;3-添加欄位&quot;&gt;&lt;a href=&quot;#3-添加欄位&quot; class=&quot;headerlink&quot; title=&quot;3. 添加欄位&quot;&gt;&lt;/a&gt;3. 添加欄位&lt;/h3&gt;&lt;p&gt;　在想要上傳圖片的資料表中添加對應的欄位&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rails g migration add_image_to_users &lt;span class=&quot;symbol&quot;&gt;image:&lt;/span&gt;string &lt;span class=&quot;comment&quot;&gt;# 此例為添加一欄位(image)至 User 中&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;then, 記得 migrate&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rake &lt;span class=&quot;symbol&quot;&gt;db:&lt;/span&gt;migrate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;4-實作上傳及顯示功能&quot;&gt;&lt;a href=&quot;#4-實作上傳及顯示功能&quot; class=&quot;headerlink&quot; title=&quot;4. 實作上傳及顯示功能&quot;&gt;&lt;/a&gt;4. 實作上傳及顯示功能&lt;/h3&gt;&lt;p&gt;　首先在 model 中掛載 uploader&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/models/user.rb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mount_uploader &lt;span class=&quot;symbol&quot;&gt;:image&lt;/span&gt;, ImageUploader&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;　接著 view 即可作上傳跟顯示，以下為上傳、快取、刪除跟顯示的作法&lt;br&gt;&lt;figure class=&quot;highlight erb&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/views/users/new.html.erb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;%=&lt;span class=&quot;ruby&quot;&gt; simple_form_for @user &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;|f|&lt;/span&gt; &lt;/span&gt;%&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;　&amp;lt;%=&lt;span class=&quot;ruby&quot;&gt; f.input &lt;span class=&quot;symbol&quot;&gt;:image&lt;/span&gt; &lt;/span&gt;%&amp;gt; &amp;lt;!-- 上傳 --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;　&amp;lt;%=&lt;span class=&quot;ruby&quot;&gt; f.check_box &lt;span class=&quot;symbol&quot;&gt;:remove_image&lt;/span&gt; &lt;/span&gt;%&amp;gt; &amp;lt;!-- 刪除 --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;　&amp;lt;%=&lt;span class=&quot;ruby&quot;&gt; f.hidden_field &lt;span class=&quot;symbol&quot;&gt;:image_cache&lt;/span&gt; &lt;/span&gt;%&amp;gt; &amp;lt;!-- 快取 _cache (讓填表時若有誤，不用重新選擇圖片) --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;　&amp;lt;%=&lt;span class=&quot;ruby&quot;&gt; image_tag @user.image &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; @user.image? &lt;/span&gt;%&amp;gt; &amp;lt;!-- 如果 user 已有圖片的話，就顯示 --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;%&lt;span class=&quot;ruby&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt; &lt;/span&gt;%&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;　最後，controller 中記得加入 strong params&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/controllers/users_controller.rb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;params.&lt;span class=&quot;keyword&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;symbol&quot;&gt;:user&lt;/span&gt;).permit( &lt;span class=&quot;symbol&quot;&gt;:image&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:image_cache&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:remove_image&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;　以上，就完成用 &lt;strong&gt;CarrierWave&lt;/strong&gt; 上傳圖片及顯示的功能囉！但，上傳後圖片大小為&lt;strong&gt;原始大小&lt;/strong&gt;，所以我們可以透過 &lt;strong&gt;rmagick&lt;/strong&gt; 來作 resize。&lt;/p&gt;
&lt;h3 id=&quot;5-使用-rmagick&quot;&gt;&lt;a href=&quot;#5-使用-rmagick&quot; class=&quot;headerlink&quot; title=&quot;5. 使用 rmagick&quot;&gt;&lt;/a&gt;5. 使用 rmagick&lt;/h3&gt;&lt;p&gt;　首先在 &lt;code&gt;image_uploader.rb&lt;/code&gt; 中取消註解：&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/uploaders/image_uploader.rb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;include&lt;/span&gt; CarrierWave::RMagick &lt;span class=&quot;comment&quot;&gt;# 取消註解&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version &lt;span class=&quot;symbol&quot;&gt;:thumb&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  process &lt;span class=&quot;symbol&quot;&gt;:resize_to_fit&lt;/span&gt; =&amp;gt; [&lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;　上面透過 &lt;code&gt;thumb&lt;/code&gt;，讓上傳時保存原圖，並且產生一個 resize version，這樣想用&lt;strong&gt;原圖&lt;/strong&gt;或&lt;strong&gt;縮放後的版本&lt;/strong&gt;都很方便！&lt;br&gt;&lt;figure class=&quot;highlight erb&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/views/users/show.html.erb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;!-- 原圖尺寸 --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;%=&lt;span class=&quot;ruby&quot;&gt; image_tag @user.image &lt;/span&gt;%&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;!-- 縮放後尺寸 --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;%=&lt;span class=&quot;ruby&quot;&gt; image_tag @user.image_url(&lt;span class=&quot;symbol&quot;&gt;:thumb&lt;/span&gt;) &lt;/span&gt;%&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;　從上面可看到，從 &lt;code&gt;_url(:thumb)&lt;/code&gt; 即可取得縮放後的圖片了！&lt;/p&gt;
&lt;p&gt;That’s it, &lt;strong&gt;DONE!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;【參考資料】&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CarrierWave: &lt;a href=&quot;https://github.com/carrierwaveuploader/carrierwave&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/carrierwaveuploader/carrierwave&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;RMagick: &lt;a href=&quot;https://github.com/rmagick/rmagick&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/rmagick/rmagick&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/img/program/rails_image_uploader.png&quot; alt=&quot;上傳圖片功能 - via CarrierWave&quot; title=&quot;Pic by Stanko Krtalić Rusendić&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;&lt;strong&gt;目的&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;　　一個網站在許多地方都需要上傳圖片或照片的功能，例如大頭貼(Avatar)或是商品照片等，而在 rails 中我們有現成的 gem可以使用，你可以使用 &lt;a href=&quot;https://github.com/thoughtbot/paperclip&quot;&gt;&lt;strong&gt;paperclip&lt;/strong&gt;&lt;/a&gt; 或 &lt;a href=&quot;https://github.com/carrierwaveuploader/carrierwave&quot;&gt;&lt;strong&gt;CarrierWave&lt;/strong&gt;&lt;/a&gt; 來實作這個功能，這邊就筆記一下怎麼使用 CarrierWave。&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;&lt;strong&gt;前言&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;　　從完全沒寫過 web app 直接學習 Ruby on Rails，說實在真有點勉強…但接觸 RoR 後我發現這真的是我喜歡的東西，希望能保持這個初衷和熱情！也期待自己能有更多的作品 ccc&lt;/p&gt;
    
    </summary>
    
      <category term="Programmer" scheme="http://georgiowan.github.io/categories/Programmer/"/>
    
    
      <category term="rails" scheme="http://georgiowan.github.io/tags/rails/"/>
    
      <category term="rubyonrails" scheme="http://georgiowan.github.io/tags/rubyonrails/"/>
    
      <category term="gem" scheme="http://georgiowan.github.io/tags/gem/"/>
    
      <category term="ruby" scheme="http://georgiowan.github.io/tags/ruby/"/>
    
      <category term="CarrierWave" scheme="http://georgiowan.github.io/tags/CarrierWave/"/>
    
      <category term="RMagick" scheme="http://georgiowan.github.io/tags/RMagick/"/>
    
      <category term="upload" scheme="http://georgiowan.github.io/tags/upload/"/>
    
  </entry>
  
  <entry>
    <title>[Rails] 讓 URL 不顯示 id 的方法 - via Friendly_id</title>
    <link href="http://georgiowan.github.io/2015/seo-via-friendly-id/"/>
    <id>http://georgiowan.github.io/2015/seo-via-friendly-id/</id>
    <published>2015-11-02T17:46:00.000Z</published>
    <updated>2016-05-24T16:24:29.139Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/img/program/friend-fingers.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;&lt;strong&gt;目的&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;　　本篇來記錄一下怎麼使用 &lt;a href=&quot;https://github.com/norman/friendly_id&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;Friendly_id&lt;/strong&gt;&lt;/a&gt; 以及使用 &lt;a href=&quot;https://github.com/norman/babosa&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;Babosa&lt;/strong&gt;&lt;/a&gt; 這兩個 gem 來達到美化 URL 的效果。&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;&lt;strong&gt;前言&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;　　目前學習 &lt;strong&gt;Ruby on Rails&lt;/strong&gt; 大約一個月半了，從學習的開始，打了一篇&lt;a href=&quot;https://georgiosky2000.wordpress.com/2015/09/07/ruby-on-rails-%E4%BD%BF%E7%94%A8-rvm-%E7%AE%A1%E7%90%86-ruby-rails-%E7%92%B0%E5%A2%83/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;安裝文&lt;/strong&gt;&lt;/a&gt;後，就被別的有趣的事情吸引去了，例如追韓劇、Running man、康熙、中國好聲音4、爸爸去哪兒3… 跑題了:P&lt;br&gt;　　&lt;strong&gt;總而言之！&lt;/strong&gt;現在開始使用 Logdown 作筆記跟分享，希望能幫助到需要的人。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h1 id=&quot;筆記&quot;&gt;&lt;a href=&quot;#筆記&quot; class=&quot;headerlink&quot; title=&quot;筆記&quot;&gt;&lt;/a&gt;&lt;strong&gt;筆記&lt;/strong&gt;&lt;/h1&gt;&lt;h3 id=&quot;1-Gem&quot;&gt;&lt;a href=&quot;#1-Gem&quot; class=&quot;headerlink&quot; title=&quot;1. Gem :&quot;&gt;&lt;/a&gt;1. Gem :&lt;/h3&gt;&lt;p&gt;　先添加 gem 到 Gemfile 中&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;Gemfile&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gem &lt;span class=&quot;string&quot;&gt;&#39;friendly_id&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;~&amp;gt; 5.1.0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gem &lt;span class=&quot;string&quot;&gt;&#39;babosa&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;　記得在 console bundle 一下&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;bundle install&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-生成資料表&quot;&gt;&lt;a href=&quot;#2-生成資料表&quot; class=&quot;headerlink&quot; title=&quot;2. 生成資料表&quot;&gt;&lt;/a&gt;2. 生成資料表&lt;/h3&gt;&lt;p&gt;　在 console 下&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rails g friendly_id&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rails g migration add_slug_to_users slug:string:uniq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rake db:migrate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;　上面的 &lt;code&gt;add_slug_to_users&lt;/code&gt; 意思是，加入一個 slug 欄位到資料表 &lt;strong&gt;User&lt;/strong&gt; 中。&lt;/p&gt;
&lt;h3 id=&quot;3-撰寫-Model&quot;&gt;&lt;a href=&quot;#3-撰寫-Model&quot; class=&quot;headerlink&quot; title=&quot;3. 撰寫 Model&quot;&gt;&lt;/a&gt;3. 撰寫 Model&lt;/h3&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/models/user.rb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;extend FriendlyId&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;friendly_id &lt;span class=&quot;symbol&quot;&gt;:name&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;use:&lt;/span&gt; &lt;span class=&quot;symbol&quot;&gt;:slugged&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;　以上，就完成單純使用 &lt;strong&gt;name&lt;/strong&gt; 來當作路徑，若想自訂路徑格式，就來覆寫 &lt;code&gt;normalize_friendly_id&lt;/code&gt; :&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/models/user.rb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;normalize_friendly_id&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(input)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  input.to_s.to_slug.normalize.to_s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;如果有使用 babosa gem 的話，就可以透過覆寫 &lt;code&gt;normalize_friendly_id&lt;/code&gt; 支援&lt;strong&gt;中文&lt;/strong&gt;囉！&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;4-Friendly-find&quot;&gt;&lt;a href=&quot;#4-Friendly-find&quot; class=&quot;headerlink&quot; title=&quot;4. Friendly.find&quot;&gt;&lt;/a&gt;4. Friendly.find&lt;/h3&gt;&lt;p&gt;　這邊有兩個方法來讓 id 被 friendly 查找：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;修改 controller 中的 find &lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/controller/users_controller.rb   &lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@user = User.friendly.find(params[&lt;span class=&quot;symbol&quot;&gt;:id&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# &lt;span class=&quot;doctag&quot;&gt;@user&lt;/span&gt; = User.find(params[:id])&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;或是，將 config 中的 finder 功能打開：&lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;config/initializers/friendly_id.rb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;config.use &lt;span class=&quot;symbol&quot;&gt;:finders&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 把註解取消，啟動自動查找功能&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以上，就完成功能囉！&lt;br&gt;如果已經有資料了，想直接更新 slug，就直接在 rails console 中執行：&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;User.find_each(&amp;amp;&lt;span class=&quot;symbol&quot;&gt;:save&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;這樣就會自動把 slug 填上了！&lt;/p&gt;
&lt;h2 id=&quot;2015-12-31-新增&quot;&gt;&lt;a href=&quot;#2015-12-31-新增&quot; class=&quot;headerlink&quot; title=&quot;2015.12.31 新增&quot;&gt;&lt;/a&gt;2015.12.31 新增&lt;/h2&gt;&lt;p&gt;若想讓 slug 隨著資料變更時作 update，我們可以透過定義 &lt;code&gt;should_generate_new_friendly_id?&lt;/code&gt; 達到目的&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/models/user.rb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;　　&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;should_generate_new_friendly_id?&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;　　　slug.blank? &lt;span class=&quot;params&quot;&gt;||&lt;/span&gt; name_changed? &lt;span class=&quot;comment&quot;&gt;# slug 為 nil 或 name column 變更時更新&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;　　&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;5-補充&quot;&gt;&lt;a href=&quot;#5-補充&quot; class=&quot;headerlink&quot; title=&quot;5. 補充&quot;&gt;&lt;/a&gt;5. 補充&lt;/h3&gt;&lt;p&gt;　如果想符合 &lt;a href=&quot;https://zh.wikipedia.org/wiki/%E6%90%9C%E5%B0%8B%E5%BC%95%E6%93%8E%E6%9C%80%E4%BD%B3%E5%8C%96&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;SEO&lt;/strong&gt;&lt;/a&gt;，可以在 &lt;code&gt;normalize_friendly_id&lt;/code&gt; 裡定義路徑名稱，例如：&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/models/user.rb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;normalize_friendly_id&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(input)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;subst&quot;&gt;#&amp;#123;id&amp;#125;&lt;/span&gt;-&lt;span class=&quot;subst&quot;&gt;#&amp;#123;input.to_s.to_slug.normalize.to_s&amp;#125;&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# what ever you want&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;　以上面程式碼為例，路徑名稱就變成類似像 &lt;code&gt;xxx/users/1-georgio&lt;/code&gt;。&lt;br&gt;　另外，除了透過 &lt;strong&gt;friendly_id&lt;/strong&gt; 去改變 url path 外，其實 rails 本身的解法是覆寫 model &lt;code&gt;to_params&lt;/code&gt; method：&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app/models/user.rb&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;to_params&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;subst&quot;&gt;#&amp;#123;id&amp;#125;&lt;/span&gt;-&lt;span class=&quot;subst&quot;&gt;#&amp;#123;name&amp;#125;&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;　就端看想用什麼方案解決囉 :D&lt;br&gt;　&lt;br&gt;That’s it, &lt;strong&gt;DONE!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;【參考資料】&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;FriendlyId: &lt;a href=&quot;https://github.com/norman/friendly_id&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/norman/friendly_id&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Babosa: &lt;a href=&quot;https://github.com/norman/babosa&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/norman/babosa&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Friendly URLs: &lt;a href=&quot;https://gist.github.com/cdmwebs/1209732&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://gist.github.com/cdmwebs/1209732&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Update slug automatically: &lt;a href=&quot;http://stackoverflow.com/questions/19072432/friendly-id-slug-not-changing-on-update&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/19072432/friendly-id-slug-not-changing-on-update&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/img/program/friend-fingers.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;&lt;strong&gt;目的&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;　　本篇來記錄一下怎麼使用 &lt;a href=&quot;https://github.com/norman/friendly_id&quot;&gt;&lt;strong&gt;Friendly_id&lt;/strong&gt;&lt;/a&gt; 以及使用 &lt;a href=&quot;https://github.com/norman/babosa&quot;&gt;&lt;strong&gt;Babosa&lt;/strong&gt;&lt;/a&gt; 這兩個 gem 來達到美化 URL 的效果。&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;&lt;strong&gt;前言&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;　　目前學習 &lt;strong&gt;Ruby on Rails&lt;/strong&gt; 大約一個月半了，從學習的開始，打了一篇&lt;a href=&quot;https://georgiosky2000.wordpress.com/2015/09/07/ruby-on-rails-%E4%BD%BF%E7%94%A8-rvm-%E7%AE%A1%E7%90%86-ruby-rails-%E7%92%B0%E5%A2%83/&quot;&gt;&lt;strong&gt;安裝文&lt;/strong&gt;&lt;/a&gt;後，就被別的有趣的事情吸引去了，例如追韓劇、Running man、康熙、中國好聲音4、爸爸去哪兒3… 跑題了:P&lt;br&gt;　　&lt;strong&gt;總而言之！&lt;/strong&gt;現在開始使用 Logdown 作筆記跟分享，希望能幫助到需要的人。&lt;/p&gt;
    
    </summary>
    
      <category term="Programmer" scheme="http://georgiowan.github.io/categories/Programmer/"/>
    
    
      <category term="rails" scheme="http://georgiowan.github.io/tags/rails/"/>
    
      <category term="rubyonrails" scheme="http://georgiowan.github.io/tags/rubyonrails/"/>
    
      <category term="gem" scheme="http://georgiowan.github.io/tags/gem/"/>
    
      <category term="friendly_id" scheme="http://georgiowan.github.io/tags/friendly-id/"/>
    
      <category term="babosa" scheme="http://georgiowan.github.io/tags/babosa/"/>
    
      <category term="to_params" scheme="http://georgiowan.github.io/tags/to-params/"/>
    
  </entry>
  
</feed>
